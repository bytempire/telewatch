<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑ - POLLEN</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app" id="app">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <header class="header">
            <div class="nav-back" onclick="goBack()">
                ‚Üê –ù–∞–∑–∞–¥
            </div>
            <div class="logo-container">
                <img src="logo.png" alt="POLLEN" class="logo-small">
            </div>
        </header>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
        <main class="main">
            <div class="custom-order-container">
                <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
                <div class="custom-order-image" onclick="openFullscreenImage()">
                    <img src="2.jpg" alt="–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞" class="development-image">
                    <div class="image-overlay">
                        <span class="expand-icon">üîç</span>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –∑–≤–æ–Ω–∫–∞ -->
                <div class="phone-call-block">
                    <div class="phone-icon">üìû</div>
                    <h3>–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</h3>
                    <p>–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>
                    <button class="phone-button" onclick="handlePhoneCall()">
                        <span class="phone-number">+7 (910) 574-26-20</span>
                        <span class="phone-action">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
    <div class="fullscreen-modal" id="fullscreenModal">
        <div class="fullscreen-modal-content">
            <span class="fullscreen-close" id="fullscreenClose">&times;</span>
            <img class="fullscreen-image" id="fullscreenImage" src="2.jpg" alt="–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞">
        </div>
    </div>

    <script>
        // Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        let tg = window.Telegram?.WebApp;

        if (tg) {
            tg.ready();
            tg.expand();
            tg.enableClosingConfirmation();
        } else {
            console.log('Telegram Web App –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
        }

        // –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function openFullscreenImage() {
            console.log('üñºÔ∏è –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º');
            const modal = document.getElementById('fullscreenModal');
            
            if (!modal) {
                console.error('‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!');
                return;
            }
            
            console.log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            if (tg && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        function closeFullscreenImage() {
            const modal = document.getElementById('fullscreenModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            if (tg && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–≤–æ–Ω–∫–∞
        async function handlePhoneCall() {
            const phoneNumber = '+79105742620';
            const formattedNumber = '+7 (910) 574-26-20';
            
            console.log('üìû –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫ –Ω–∞', phoneNumber);
            
            // Haptic feedback
            if (tg && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }

            // –°–ø–æ—Å–æ–± 1: –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ window.open —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
            try {
                console.log('üì± –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–µ—Ä —á–µ—Ä–µ–∑ window.open');
                window.open(`tel:${phoneNumber}`, '_blank');
                console.log('‚úÖ –ö–æ–º–∞–Ω–¥–∞ window.open –≤—ã–ø–æ–ª–Ω–µ–Ω–∞');
                return;
            } catch (error) {
                console.log('‚ùå window.open –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', error);
            }

            // –°–ø–æ—Å–æ–± 2: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tg.openTelegramLink (–¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫)
            if (tg && tg.openTelegramLink) {
                try {
                    console.log('üîó –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ tg.openTelegramLink');
                    tg.openTelegramLink(`tel:${phoneNumber}`);
                    console.log('‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ openTelegramLink –≤—ã–ø–æ–ª–Ω–µ–Ω–∞');
                    return;
                } catch (error) {
                    console.log('‚ùå tg.openTelegramLink –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', error);
                }
            }

            // –°–ø–æ—Å–æ–± 3: –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ tg.openLink —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
            if (tg && tg.openLink) {
                try {
                    console.log('üîó –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ tg.openLink');
                    tg.openLink(`tel:${phoneNumber}`, {try_instant_view: false});
                    console.log('‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ openLink –≤—ã–ø–æ–ª–Ω–µ–Ω–∞');
                    return;
                } catch (error) {
                    console.log('‚ùå tg.openLink –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', error);
                }
            }

            // –°–ø–æ—Å–æ–± 4: –ü—Ä—è–º–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            try {
                console.log('‚òéÔ∏è –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ tel:');
                window.location.href = `tel:${phoneNumber}`;
                console.log('‚úÖ –ü—Ä—è–º–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ');
                return;
            } catch (error) {
                console.log('‚ùå –ü—Ä—è–º–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ:', error);
            }

            // –°–ø–æ—Å–æ–± 5: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–≤–∏–¥–∏–º–æ–π —Å—Å—ã–ª–∫–∏ –∏ –∫–ª–∏–∫ –ø–æ –Ω–µ–π
            try {
                console.log('üîó –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É');
                const tempLink = document.createElement('a');
                tempLink.href = `tel:${phoneNumber}`;
                tempLink.style.display = 'none';
                tempLink.target = '_blank';
                tempLink.rel = 'noopener noreferrer';
                document.body.appendChild(tempLink);
                
                // –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const clickEvent = new MouseEvent('click', {
                    bubbles: true,
                    cancelable: true,
                    view: window
                });
                tempLink.dispatchEvent(clickEvent);
                
                document.body.removeChild(tempLink);
                console.log('‚úÖ –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
                return;
            } catch (error) {
                console.log('‚ùå –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞:', error);
            }
            
            // –°–ø–æ—Å–æ–± 5.5: –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ iframe (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤)
            try {
                console.log('üñºÔ∏è –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–≤–∏–¥–∏–º—ã–π iframe');
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = `tel:${phoneNumber}`;
                document.body.appendChild(iframe);
                
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    console.log('‚úÖ iframe —É–¥–∞–ª–µ–Ω');
                }, 1000);
                
                console.log('‚úÖ iframe —Å–æ–∑–¥–∞–Ω –¥–ª—è tel: —Å—Å—ã–ª–∫–∏');
                return;
            } catch (error) {
                console.log('‚ùå iframe –º–µ—Ç–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', error);
            }

            // –°–ø–æ—Å–æ–± 6: Fallback - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            const message = `üìû –ù–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–µ—Ä.\n\n–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –ø–æ –Ω–æ–º–µ—Ä—É:\n${formattedNumber}\n\nüì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:\n1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–º–µ—Ä (–¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ)\n2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–¢–µ–ª–µ—Ñ–æ–Ω"\n3. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä –∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ`;
            
            if (tg && tg.showAlert) {
                tg.showAlert(message);
            } else {
                alert(message);
            }
            
            console.log('üì¢ –ü–æ–∫–∞–∑–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é');

            // –°–ø–æ—Å–æ–± 7: –ü–æ–ø—ã—Ç–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑–µ—Ä–≤
            try {
                await navigator.clipboard.writeText(phoneNumber);
                console.log('üìã –ù–æ–º–µ—Ä —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤');
            } catch (error) {
                console.log('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä:', error);
            }

        }

        // –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function goBack() {
            window.location.href = 'index.html';
            
            if (tg && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        }


        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            // –ê–Ω–∏–º–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const elements = document.querySelectorAll('.custom-order-image, .phone-call-block');
            elements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 150);
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
            const fullscreenModal = document.getElementById('fullscreenModal');
            const fullscreenClose = document.getElementById('fullscreenClose');

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
            if (fullscreenClose) {
                fullscreenClose.addEventListener('click', closeFullscreenImage);
            }

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            if (fullscreenModal) {
                fullscreenModal.addEventListener('click', (e) => {
                    if (e.target === fullscreenModal) {
                        closeFullscreenImage();
                    }
                });
            }

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && fullscreenModal.style.display === 'flex') {
                    closeFullscreenImage();
                }
            });
        });
    </script>
</body>
</html>
